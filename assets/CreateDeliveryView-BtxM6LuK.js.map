{"version":3,"file":"CreateDeliveryView-BtxM6LuK.js","sources":["../../src/views/create/CreateDeliveryView.vue"],"sourcesContent":["<template>\r\n\t<create-request-layout v-model=\"isPopupOpen\">\r\n\t\t<template #header>\r\n\t\t\t<h1 class=\"mb-2 flex items-center gap-2 text-xl\">\r\n\t\t\t\tCreate delivery\r\n\r\n\t\t\t\t<icon-truck-delivery class=\"text-blue-500\" />\r\n\t\t\t</h1>\r\n\t\t\t<p>Please fill the form below ðŸ‘‡</p>\r\n\t\t</template>\r\n\r\n\t\t<template #form>\r\n\t\t\t<request-form\r\n\t\t\t\t:type=\"RequestTypeEnums.Delivery\"\r\n\t\t\t\tbutton-label=\"Create\"\r\n\t\t\t\t@submit=\"onSubmit\"\r\n\t\t\t/>\r\n\t\t</template>\r\n\t</create-request-layout>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from \"vue\";\r\nimport { IconTruckDelivery } from \"@tabler/icons-vue\";\r\n\r\nimport RequestForm from \"@/components/forms/RequestForm.vue\";\r\nimport CreateRequestLayout from \"@/components/layout/CreateRequestLayout.vue\";\r\n\r\nimport { RequestTypeEnums } from \"@/ts/enums/request-type.enums.ts\";\r\n\r\nimport { storeToRefs } from \"pinia\";\r\n\r\nimport { useGeneratedID } from \"@/composables/useGeneratedID.ts\";\r\nimport { useRequestsStore } from \"@/store/requests.store.ts\";\r\nimport { useUserStore } from \"@/store/user.store.ts\";\r\nimport type { OrderForm } from \"@/ts/types/forms\";\r\nimport type { IRequest } from \"@/ts/types/requests\";\r\n\r\nconst { user } = useUserStore();\r\nconst requestStore = useRequestsStore();\r\nconst { requestsList } = storeToRefs(requestStore);\r\n\r\nconst isPopupOpen = ref(false);\r\n\r\nconst onSubmit = (values: OrderForm) => {\r\n\tconst dateNow = new Date().toISOString();\r\n\tconst id = useGeneratedID();\r\n\r\n\tconst request: IRequest = {\r\n\t\tid,\r\n\t\tdateCreated: dateNow,\r\n\t\ttoCity: values.toCity,\r\n\t\tfromCity: values.fromCity,\r\n\t\tdateDispatch: values.dateDispatch,\r\n\t\ttype: RequestTypeEnums.Delivery,\r\n\t\tuser: {\r\n\t\t\tid: user.id,\r\n\t\t\tname: user.name,\r\n\t\t},\r\n\t};\r\n\r\n\trequestsList.value.push(request);\r\n\r\n\tisPopupOpen.value = true;\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"postcss\"></style>\r\n"],"names":["user","useUserStore","requestStore","useRequestsStore","requestsList","storeToRefs","isPopupOpen","ref","onSubmit","values","dateNow","request","useGeneratedID","RequestTypeEnums"],"mappings":"+vBAsCM,KAAA,CAAE,KAAAA,GAASC,IACXC,EAAeC,IACf,CAAE,aAAAC,CAAA,EAAiBC,EAAYH,CAAY,EAE3CI,EAAcC,EAAI,EAAK,EAEvBC,EAAYC,GAAsB,CACvC,MAAMC,EAAU,IAAI,KAAK,EAAE,YAAY,EAGjCC,EAAoB,CACzB,GAHUC,IAIV,YAAaF,EACb,OAAQD,EAAO,OACf,SAAUA,EAAO,SACjB,aAAcA,EAAO,aACrB,KAAMI,EAAiB,SACvB,KAAM,CACL,GAAIb,EAAK,GACT,KAAMA,EAAK,IACZ,CAAA,EAGYI,EAAA,MAAM,KAAKO,CAAO,EAE/BL,EAAY,MAAQ,EAAA"}