{"version":3,"file":"LoginView-WWMPoxwu.js","sources":["../../public/login-bg.jpg","../../src/views/LoginView.vue"],"sourcesContent":["export default \"__VITE_ASSET__Y$uYXFXj__\"","<template>\r\n\t<main>\r\n\t\t<div class=\"flex min-h-screen w-full\">\r\n\t\t\t<div class=\"w-1/2 flex-grow py-8\">\r\n\t\t\t\t<div class=\"container\">\r\n\t\t\t\t\t<app-logo class=\"mb-20\" />\r\n\r\n\t\t\t\t\t<div class=\"mx-auto max-w-xl\">\r\n\t\t\t\t\t\t<div class=\"mb-5\">\r\n\t\t\t\t\t\t\t<h1 class=\"mb-2 text-2xl\">\r\n\t\t\t\t\t\t\t\tWelcome to the Transportation ðŸ‘‹\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<p>Please tell me your name</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<form @submit.prevent=\"onSubmit\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col gap-5\">\r\n\t\t\t\t\t\t\t\t<app-input\r\n\t\t\t\t\t\t\t\t\tv-model=\"name\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Will Smith\"\r\n\t\t\t\t\t\t\t\t\t:error=\"errors.name\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<app-input\r\n\t\t\t\t\t\t\t\t\tv-model.number=\"id\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Id\"\r\n\t\t\t\t\t\t\t\t\t:error=\"errors.id\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"12345\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<app-button\r\n\t\t\t\t\t\t\t\t\tclass=\"justify-center\"\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSign up\r\n\t\t\t\t\t\t\t\t</app-button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"relative w-1/3 flex-grow bg-blue-600\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"@public/login-bg.jpg\"\r\n\t\t\t\t\tclass=\"absolute right-0 top-0 h-full w-full object-cover\"\r\n\t\t\t\t\talt=\"Background\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<app-logo\r\n\t\t\t\t\tclass=\"absolute bottom-10 right-10 z-10\"\r\n\t\t\t\t\t:variant=\"'white'\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</main>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { useRouter } from \"vue-router\";\r\nimport { useForm } from \"vee-validate\";\r\nimport type { ObjectSchema } from \"yup\";\r\nimport { number } from \"yup\";\r\nimport { object, string } from \"yup\";\r\n\r\nimport AppButton from \"@/components/base/AppButton.vue\";\r\nimport AppLogo from \"@/components/base/AppLogo.vue\";\r\nimport AppInput from \"@/components/base/input/AppInput.vue\";\r\n\r\nimport { storeToRefs } from \"pinia\";\r\n\r\nimport { useRequestsStore } from \"@/store/requests.store.ts\";\r\nimport { useUserStore } from \"@/store/user.store.ts\";\r\n\r\nconst { user } = storeToRefs(useUserStore());\r\nconst { usersList, isUserExist } = useRequestsStore();\r\n\r\nconst router = useRouter();\r\n\r\ninterface LoginForm {\r\n\tname: string;\r\n\tid: number | string;\r\n}\r\n\r\nconst schema: ObjectSchema<LoginForm> = object({\r\n\tname: string().required(\"Please enter your name\"),\r\n\tid: number()\r\n\t\t.typeError(\"ID must be a number\")\r\n\t\t.positive()\r\n\t\t.required(\"Please enter id\"),\r\n});\r\n\r\nconst { handleSubmit, errors, defineField } = useForm<LoginForm>({\r\n\tvalidationSchema: schema,\r\n\tinitialValues: {\r\n\t\tname: \"\",\r\n\t\tid: \"\",\r\n\t},\r\n});\r\n\r\nconst [name] = defineField(\"name\");\r\nconst [id] = defineField(\"id\");\r\n\r\nconst onSubmit = handleSubmit((values) => {\r\n\tuser.value = {\r\n\t\tname: values.name,\r\n\t\tid: values.id,\r\n\t};\r\n\r\n\tif (!isUserExist(values.id)) {\r\n\t\tusersList.push(user.value);\r\n\t}\r\n\r\n\tvoid router.replace({ name: \"userRequests\", params: { id: values.id } });\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"postcss\"></style>\r\n"],"names":["_imports_0","user","storeToRefs","useUserStore","usersList","isUserExist","useRequestsStore","router","useRouter","schema","object","string","number","handleSubmit","errors","defineField","useForm","name","id","onSubmit","values"],"mappings":"+bAAA,MAAeA,EAAA,+gBC6Ef,KAAM,CAAE,KAAAC,CAAS,EAAAC,EAAYC,EAAc,CAAA,EACrC,CAAE,UAAAC,EAAW,YAAAC,CAAY,EAAIC,EAAiB,EAE9CC,EAASC,IAOTC,EAAkCC,EAAO,CAC9C,KAAMC,EAAA,EAAS,SAAS,wBAAwB,EAChD,GAAIC,EACF,EAAA,UAAU,qBAAqB,EAC/B,SACA,EAAA,SAAS,iBAAiB,CAAA,CAC5B,EAEK,CAAE,aAAAC,EAAc,OAAAC,EAAQ,YAAAC,CAAA,EAAgBC,EAAmB,CAChE,iBAAkBP,EAClB,cAAe,CACd,KAAM,GACN,GAAI,EACL,CAAA,CACA,EAEK,CAACQ,CAAI,EAAIF,EAAY,MAAM,EAC3B,CAACG,CAAE,EAAIH,EAAY,IAAI,EAEvBI,EAAWN,EAAcO,GAAW,CACzCnB,EAAK,MAAQ,CACZ,KAAMmB,EAAO,KACb,GAAIA,EAAO,EAAA,EAGPf,EAAYe,EAAO,EAAE,GACfhB,EAAA,KAAKH,EAAK,KAAK,EAGrBM,EAAO,QAAQ,CAAE,KAAM,eAAgB,OAAQ,CAAE,GAAIa,EAAO,EAAG,CAAG,CAAA,CAAA,CACvE"}